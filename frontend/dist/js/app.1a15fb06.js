(function(e){function t(t){for(var a,s,r=t[0],i=t[1],l=t[2],u=0,b=[];u<r.length;u++)s=r[u],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&b.push(n[s][0]),n[s]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);d&&d(t);while(b.length)b.shift()();return o.push.apply(o,l||[]),c()}function c(){for(var e,t=0;t<o.length;t++){for(var c=o[t],a=!0,r=1;r<c.length;r++){var i=c[r];0!==n[i]&&(a=!1)}a&&(o.splice(t--,1),e=s(s.s=c[0]))}return e}var a={},n={app:0},o=[];function s(t){if(a[t])return a[t].exports;var c=a[t]={i:t,l:!1,exports:{}};return e[t].call(c.exports,c,c.exports,s),c.l=!0,c.exports}s.m=e,s.c=a,s.d=function(e,t,c){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(s.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(c,a,function(t){return e[t]}.bind(null,a));return c},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],i=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var d=i;o.push([0,"chunk-vendors"]),c()})({0:function(e,t,c){e.exports=c("56d7")},"56d7":function(e,t,c){"use strict";c.r(t);c("e260"),c("e6cf"),c("cca6"),c("a79d");var a=c("7a23");function n(e,t,c,n,o,s){var r=Object(a["A"])("router-view");return Object(a["t"])(),Object(a["e"])(r)}var o={name:"App",components:{}};c("5c59");o.render=n;var s=o,r=c("1da1"),i=(c("96cf"),c("6c02")),l=c("5f35"),d=c.n(l),u=(c("b0c0"),{class:"container"}),b=Object(a["h"])("div",{class:"row"},[Object(a["h"])("div",{class:"col"},[Object(a["h"])("h2",null,"PANTALLA DE CONFIGURACIÓN")])],-1),h={class:"row text-left"},j={class:"col"},O={class:"row text-left d-flex justify-content-center align-items-center"},p={class:"col-12 col-md-4"},m={class:"row align-items-center"},v=Object(a["h"])("div",{class:"col-6"},"Nombre",-1),f={class:"col-6"},g=["onUpdate:modelValue","placeholder"],w={class:"col-12 col-md-4"},y={class:"row align-items-center"},C=Object(a["h"])("div",{class:"col-6"},"Valoración",-1),x={class:"col-6"},k=["onUpdate:modelValue","placeholder"],A={key:0,class:"range-alert"},S={class:"col-12 col-md-4"},E={class:"row align-items-center"},P=Object(a["h"])("div",{class:"col-6"},"Máximo número de clientes",-1),D={class:"col-6"},M=["onUpdate:modelValue","placeholder"],R=Object(a["h"])("hr",null,null,-1),V={class:"row justify-content-end"},_={class:"col-auto"},N={class:"col-auto"},q={key:0},z={class:"modal-mask"},L={class:"modal-wrapper"},I={class:"modal-dialog",role:"document"},T={class:"modal-content"},U={class:"modal-header"},J=Object(a["h"])("h5",{class:"modal-title"},"Clientes",-1),G={type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},B={class:"modal-body"},H={class:"container"},F=Object(a["h"])("div",{class:"row align-items-center"},[Object(a["h"])("div",{class:"col"},[Object(a["h"])("h5",null,"Cliente")]),Object(a["h"])("div",{class:"col"},[Object(a["h"])("h5",null,"Importancia de la reputación")])],-1),X={class:"row"},Y={class:"col"},K={class:"col"},Q={key:0},W={class:"modal-footer"};function Z(e,t,c,n,o,s){var r=Object(a["A"])("router-link");return Object(a["t"])(),Object(a["g"])("div",null,[Object(a["h"])("div",u,[b,(Object(a["t"])(!0),Object(a["g"])(a["a"],null,Object(a["z"])(o.data.coaches,(function(e,t){return Object(a["t"])(),Object(a["g"])("div",{class:"coach",key:e},[Object(a["h"])("div",h,[Object(a["h"])("div",j,[Object(a["h"])("h5",null,"Entrenador "+Object(a["C"])(t+1),1)])]),Object(a["h"])("div",O,[Object(a["h"])("div",p,[Object(a["h"])("div",m,[v,Object(a["h"])("div",f,[Object(a["H"])(Object(a["h"])("input",{type:"text","onUpdate:modelValue":function(e){return o.data.coaches[t].name=e},placeholder:[e.name]},null,8,g),[[a["E"],o.data.coaches[t].name]])])])]),Object(a["h"])("div",w,[Object(a["h"])("div",y,[C,Object(a["h"])("div",x,[Object(a["H"])(Object(a["h"])("input",{type:"number","onUpdate:modelValue":function(e){return o.data.coaches[t].rating=e},min:"0",max:"5",placeholder:[e.rating]},null,8,k),[[a["E"],o.data.coaches[t].rating]]),o.data.coaches[t].rating>5||o.data.coaches[t].rating<0?(Object(a["t"])(),Object(a["g"])("div",A,"La valoración debe de ser entre 0 y 5")):Object(a["f"])("",!0)])])]),Object(a["h"])("div",S,[Object(a["h"])("div",E,[P,Object(a["h"])("div",D,[Object(a["H"])(Object(a["h"])("input",{type:"number","onUpdate:modelValue":function(e){return o.data.coaches[t].maxClients=e},min:"0",placeholder:[e.maxClients]},null,8,M),[[a["E"],o.data.coaches[t].maxClients]])])])])]),R])})),128)),Object(a["h"])("div",V,[Object(a["h"])("div",_,[Object(a["h"])("button",{class:"btn btn-secondary",onClick:t[0]||(t[0]=function(e){return o.showModal=!0})},"Ver tabla clientes")]),Object(a["h"])("div",N,[Object(a["j"])(r,{to:{name:"results"}},{default:Object(a["G"])((function(){return[Object(a["h"])("button",{onClick:t[1]||(t[1]=function(){return s.saveData&&s.saveData.apply(s,arguments)}),class:"btn btn-primary"},"Calcular resultados")]})),_:1})])]),o.showModal?(Object(a["t"])(),Object(a["g"])("div",q,[Object(a["j"])(a["b"],{name:"modal"},{default:Object(a["G"])((function(){return[Object(a["h"])("div",z,[Object(a["h"])("div",L,[Object(a["h"])("div",I,[Object(a["h"])("div",T,[Object(a["h"])("div",U,[J,Object(a["h"])("button",G,[Object(a["h"])("span",{"aria-hidden":"true",onClick:t[2]||(t[2]=function(e){return o.showModal=!1})},"×")])]),Object(a["h"])("div",B,[Object(a["h"])("div",H,[F,(Object(a["t"])(!0),Object(a["g"])(a["a"],null,Object(a["z"])(o.data.clients,(function(e,t){return Object(a["t"])(),Object(a["g"])("div",{key:t},[Object(a["h"])("div",X,[Object(a["h"])("div",Y,Object(a["C"])(e.name),1),Object(a["h"])("div",K,Object(a["C"])(e.rate),1)]),t!=o.data.clients.length-1?(Object(a["t"])(),Object(a["g"])("hr",Q)):Object(a["f"])("",!0)])})),128))])]),Object(a["h"])("div",W,[Object(a["h"])("button",{type:"button",class:"btn btn-primary",onClick:t[3]||(t[3]=function(e){return o.showModal=!1})},"Cerrar")])])])])])]})),_:1})])):Object(a["f"])("",!0)])])}c("d3b7");function $(e,t,c,a,n){return ee.apply(this,arguments)}function ee(){return ee=Object(r["a"])(regeneratorRuntime.mark((function e(t,c,a,n,o){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(c,{method:t,headers:{Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify(a),mode:n,credentials:o}).then((function(e){return e.json()})).then((function(e){s=e}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0);case 8:return e.abrupt("return",s);case 9:case"end":return e.stop()}}),e,null,[[0,5]])}))),ee.apply(this,arguments)}var te={data:function(){return{data:{coaches:[],clients:[]},showModal:!1,sandia:"test123"}},methods:{getData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("get"),void 0==window.sessionStorage.getItem("rawData")){t.next=5;break}e.data=JSON.parse(window.sessionStorage.getItem("rawData")),t.next=8;break;case 5:return t.next=7,$("GET","/api/data");case 7:e.data=t.sent;case 8:case"end":return t.stop()}}),t)})))()},saveData:function(){window.sessionStorage.setItem("rawData",JSON.stringify(this.data))},checkRating:function(){return!0}},created:function(){this.getData()}};c("58d9");te.render=Z;var ce=te,ae={class:"row tabs"},ne={class:"info"},oe={key:0},se={class:"container"},re=Object(a["h"])("div",{class:"row header"},[Object(a["h"])("div",{class:"col"},[Object(a["h"])("h2",null,"PANTALLA DE RESULTADOS")])],-1),ie={class:"row justify-content-center"},le={class:"row footer justify-content-end"},de={class:"col-auto"},ue=Object(a["h"])("button",{class:"btn btn-primary"},"Volver",-1),be={key:1},he={class:"container"},je=Object(a["h"])("div",{class:"row section"},[Object(a["h"])("div",{class:"col"},[Object(a["h"])("h2",null,"VALORACIÓN DEL CONJUNTO")])],-1),Oe={class:"row text-left"},pe={class:"col"},me=Object(a["h"])("h5",null,"Los siguientes clientes no han podido ser asignados:",-1),ve={class:"section row text-left"},fe={class:"col"},ge=Object(a["h"])("h5",null,"Cálculo de satisfación",-1),we=Object(a["i"])(" Ha sido calculado por el sumatorio del producto de la valoración de cada entrenador con la importancia que le da el cliente a dicha valoración "),ye={class:"row coach-data"},Ce={class:"col-6"},xe=Object(a["i"])("Coach "),ke={class:"col-6"},Ae={class:"row"},Se={class:"client-data col-6"},Ee={class:"client-data col"},Pe={class:"row partial"},De=Object(a["h"])("div",{class:"col-6"}," Total para este entrenador: ",-1),Me={class:"partial-data col-6"},Re={class:"row align-items-center summatory"},Ve=Object(a["h"])("div",{class:"col-6"}," Sumatorio total de satisfacción: ",-1),_e={class:"col-6 summatory-data"},Ne=Object(a["h"])("div",{class:"section row text-left"},[Object(a["h"])("div",{class:"col"},[Object(a["h"])("h5",null,"Explicación de la asignación"),Object(a["h"])("p",null,"Para un conjunto de datos cerrado como el propuesto para la solución del ejercicio y entendemos que ese conjunto lo tendremos inicialmente completo para hacer las asignaciones, la solución más óptima y sencilla sería ordenar ambos conjuntos y asignar a cliente con mayor importancia - entrenador con mayor puntuación. A rasgos generales, consistiría en dar siempre el entrenador con mayor puntuación disponible a cada momento. Con esta solución nos aseguraríamos obtener la mayor puntuación de satisfacción total para la casuística explicada."),Object(a["h"])("p",null,"El problema viene cuando pensamos en el conjunto de datos como si fueran clientes que se han ido apuntando poco a poco; o simplemente que posteriormente tendremos la necesidad de añadir nuevos clientes al servicio. Con la solución explicada en el párrafo anterior, podría darse el caso de asignar inicialmente entrenadores con altas puntuaciones a clientes que no le dan importancia, provocando que clientes posteriores no puedan estar con entrenadores de puntuación demandada."),Object(a["h"])("p",null,"La solución planteada en la resolución del ejercicio consiste en asignar entrenadores disponibles con puntuación similar a la importancia que le da el cliente (tras normalizar los datos). Por ejemplo, si un cliente le da importancia de 6.8 (3.4 normalizado) y tenemos los siguienes huecos disponibles: Entrenador A->4.2, Entrenador B->3.7, Entrenador C->3.2, la aplicación enlazará al cliente con el entrenador B, de puntuación 3.7."),Object(a["h"])("p",null,"Con esta resolución del problema encontramos una forma sencilla de asignar a los clientes con algo cercano a lo que estan buscando pero superior. Esta asignación se produce siempre y cuando haya huecos disponibles en entrenadores con puntuaciones superiores, en caso contrario se le asignará el primer hueco disponible más alto."),Object(a["h"])("p",null,"Para determinadas situaciones la solución estará lejos de ser optima, por ejemplo, cuando quedan pocos huecos disponibles, es posible que a una persona que valore mucho un entrenador con alta puntuación se le asigne un entrenador con valoración 1 porque es el único hueco disponible."),Object(a["h"])("p",null,"La solución del problema es mejorable utilizando modelos matemáticos como modelos de asignación o modelos predictivos en el caso de poder ir creando un historial de datos.")])],-1),qe={class:"row footer justify-content-end"},ze={class:"col-auto"},Le=Object(a["h"])("button",{class:"btn btn-primary"},"Volver",-1);function Ie(e,t,c,n,o,s){var r=Object(a["A"])("CoachCard"),i=Object(a["A"])("router-link");return Object(a["t"])(),Object(a["g"])("div",null,[Object(a["h"])("div",ae,[Object(a["h"])("div",{onClick:t[0]||(t[0]=function(e){return o.screenCoaches=!0}),class:Object(a["p"])([{active:o.screenCoaches},"col-auto tab"])}," Entrenadores ",2),Object(a["h"])("div",{onClick:t[1]||(t[1]=function(e){return o.screenCoaches=!1}),class:Object(a["p"])([{active:!o.screenCoaches},"col-auto tab right"])}," Valoración del conjunto ",2)]),Object(a["h"])("div",ne,[o.screenCoaches?(Object(a["t"])(),Object(a["g"])("div",oe,[Object(a["h"])("div",se,[re,Object(a["h"])("div",ie,[(Object(a["t"])(!0),Object(a["g"])(a["a"],null,Object(a["z"])(o.data.coaches,(function(e,t){return Object(a["t"])(),Object(a["g"])("div",{class:"col-auto",key:e},[Object(a["j"])(r,{name:e.name,number:t,rating:e.rating,maxClients:e.maxClients,clients:e.clients},null,8,["name","number","rating","maxClients","clients"])])})),128))]),Object(a["h"])("div",le,[Object(a["h"])("div",de,[Object(a["j"])(i,{to:{name:"home"}},{default:Object(a["G"])((function(){return[ue]})),_:1})])])])])):(Object(a["t"])(),Object(a["g"])("div",be,[Object(a["h"])("div",he,[je,Object(a["h"])("div",Oe,[Object(a["h"])("div",pe,[me,(Object(a["t"])(!0),Object(a["g"])(a["a"],null,Object(a["z"])(o.data.unassignedClients,(function(e){return Object(a["t"])(),Object(a["g"])("div",{key:e}," Cliente "+Object(a["C"])(e.name)+" - Importancia: "+Object(a["C"])(e.rate),1)})),128))])]),Object(a["h"])("div",ve,[Object(a["h"])("div",fe,[ge,we,(Object(a["t"])(!0),Object(a["g"])(a["a"],null,Object(a["z"])(o.data.coaches,(function(e,t){return Object(a["t"])(),Object(a["g"])("div",{key:e},[Object(a["h"])("div",ye,[Object(a["h"])("div",Ce,[xe,Object(a["h"])("b",null,Object(a["C"])(e.name),1)]),Object(a["h"])("div",ke,Object(a["C"])(e.rating)+" *",1)]),(Object(a["t"])(!0),Object(a["g"])(a["a"],null,Object(a["z"])(e.clients,(function(e){return Object(a["t"])(),Object(a["g"])("div",{key:e},[Object(a["h"])("div",Ae,[Object(a["h"])("div",Se,Object(a["C"])(e.name),1),Object(a["h"])("div",Ee,Object(a["C"])(e.rate),1)])])})),128)),Object(a["h"])("div",Pe,[De,Object(a["h"])("div",Me,Object(a["C"])(o.results[t]),1)])])})),128)),Object(a["h"])("div",Re,[Ve,Object(a["h"])("div",_e,Object(a["C"])(o.total),1)])])]),Ne,Object(a["h"])("div",qe,[Object(a["h"])("div",ze,[Object(a["j"])(i,{to:{name:"home"}},{default:Object(a["G"])((function(){return[Le]})),_:1})])])])]))])])}c("d81d"),c("a630"),c("3ca3"),c("fb6a");var Te=c("f557"),Ue=c.n(Te);Object(a["w"])("data-v-5398ebea");var Je={class:"card border-light mb-3",style:{"max-width":"18rem"}},Ge={class:"card-header"},Be={class:"row justify-content-between align-items-center"},He={class:"col-auto"},Fe={class:"col-auto"},Xe=Object(a["h"])("img",{class:"info-btn",src:Ue.a,alt:""},null,-1),Ye={class:"info"},Ke=Object(a["h"])("b",null,"Valoración:",-1),Qe=Object(a["h"])("b",null,"Máx clientes:",-1),We={class:"card-body text-left"},Ze={class:"row"},$e=Object(a["h"])("div",{class:"col-3"},[Object(a["h"])("img",{class:"profile-img",src:"https://cdn-cmalj.nitrocdn.com/SLgBYfpBymCBytHkPXfOklANiffeDmlJ/assets/static/optimized/rev-f601d3d/wp-content/uploads/2021/06/2.jpg",alt:""})],-1),et={class:"col-9"},tt={class:"card-title"},ct={class:"card-text"},at=Object(a["i"])(" Clientes asignados: "),nt={class:"list"},ot={class:"card-footer"};function st(e,t,c,n,o,s){return Object(a["t"])(),Object(a["g"])("div",null,[Object(a["h"])("div",Je,[Object(a["h"])("div",Ge,[Object(a["h"])("div",Be,[Object(a["h"])("div",He," Entrenador "+Object(a["C"])(c.number),1),Object(a["h"])("div",Fe,[Xe,Object(a["h"])("div",Ye,[Object(a["h"])("p",null,[Ke,Object(a["i"])(" "+Object(a["C"])(c.rating),1)]),Object(a["h"])("p",null,[Qe,Object(a["i"])(" "+Object(a["C"])(c.maxClients),1)])])])])]),Object(a["h"])("div",We,[Object(a["h"])("div",Ze,[$e,Object(a["h"])("div",et,[Object(a["h"])("h5",tt,Object(a["C"])(c.name),1),Object(a["h"])("div",ct,[at,Object(a["h"])("div",nt,[(Object(a["t"])(!0),Object(a["g"])(a["a"],null,Object(a["z"])(c.clients.slice(0,o.n),(function(e){return Object(a["t"])(),Object(a["g"])("div",{key:e,class:"card-text"},"- Cliente "+Object(a["C"])(e.name),1)})),128))]),o.show?(Object(a["t"])(),Object(a["g"])("button",{key:0,onClick:t[0]||(t[0]=function(){return s.showMore&&s.showMore.apply(s,arguments)}),class:"btn showMore"},"Ver más")):Object(a["f"])("",!0)])])])]),Object(a["h"])("div",ot,Object(a["C"])(c.clients.length)+" clientes asignados",1)])])}Object(a["u"])();var rt={props:["id","number","name","rating","maxClients","clients"],data:function(){return{show:!1,n:0}},methods:{showMore:function(){this.show=!1,this.n=this.clients.length}},created:function(){this.clients.length>4?(this.n=3,this.show=!0):this.n=this.clients.length}};c("577e4");rt.render=st,rt.__scopeId="data-v-5398ebea";var it=rt,lt={components:{CoachCard:it},data:function(){return{data:[],screenCoaches:!0,results:[],total:0}},methods:{getResults:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return c=JSON.parse(window.sessionStorage.getItem("rawData")),t.next=3,$("POST","/api/linkclientscoaches",c);case 3:e.data=t.sent,e.calculate(e.data);case 5:case"end":return t.stop()}}),t)})))()},calculate:function(e){var t=this;Array.from(e.coaches).map((function(e,c){var a=0;Array.from(e.clients).map((function(t){a+=e.rating*t.rate})),t.total+=a,t.results[c]=a}))}},created:function(){this.getResults()}};c("695c");lt.render=Ie;var dt=lt,ut=[{path:d.a.publicPath,name:"home",component:ce},{path:d.a.publicPath+"results",name:"results",component:dt,beforeEnter:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,c,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:void 0==window.sessionStorage.getItem("rawData")?a({name:"home"}):a();case 1:case"end":return e.stop()}}),e)})));function t(t,c,a){return e.apply(this,arguments)}return t}()}],bt=Object(i["a"])({mode:"history",history:Object(i["b"])(),routes:ut}),ht=bt;Object(a["d"])(s).use(ht).mount("#app")},"577e4":function(e,t,c){"use strict";c("890f")},"58d9":function(e,t,c){"use strict";c("61be")},"5c59":function(e,t,c){"use strict";c("ea8c")},"5f35":function(e,t){e.exports={publicPath:"/",assetsDir:""}},"61be":function(e,t,c){},"695c":function(e,t,c){"use strict";c("6e99")},"6e99":function(e,t,c){},"890f":function(e,t,c){},ea8c:function(e,t,c){},f557:function(e,t,c){e.exports=c.p+"img/info_black_24dp.2226ccec.svg"}});
//# sourceMappingURL=app.1a15fb06.js.map